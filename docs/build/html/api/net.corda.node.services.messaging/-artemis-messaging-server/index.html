<HTML>
<HEAD>
<title>ArtemisMessagingServer - </title>
<link rel="stylesheet" href="..\..\style.css">
</HEAD>
<BODY>
<a href="../index.html">net.corda.node.services.messaging</a>&nbsp;/&nbsp;<a href=".">ArtemisMessagingServer</a><br/>
<br/>
<h1>ArtemisMessagingServer</h1>
<code><span class="keyword">class </span><span class="identifier">ArtemisMessagingServer</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-artemis-messaging-component/index.html"><span class="identifier">ArtemisMessagingComponent</span></a></code><br/>
<p>This class configures and manages an Apache Artemis message queue broker.</p>
<p>Nodes communication is managed using an Artemis specific protocol, but it supports other protocols like AMQP/1.0
as well for interop.</p>
<p>The current implementation is skeletal and lacks features like security or firewall tunnelling (that is, you must
be able to receive TCP connections in order to receive messages). It is good enough for local communication within
a fully connected network, trusted network or on localhost.</p>
<br/>
<br/>
<br/>
<br/>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<a href="-node-login-module/index.html">NodeLoginModule</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">NodeLoginModule</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/javax/security/auth/spi/LoginModule.html"><span class="identifier">LoginModule</span></a></code><p>Clients must connect to us with a username and password and must use TLS. If a someone connects with
<a href="../-artemis-messaging-component/-n-o-d-e_-u-s-e-r.html">ArtemisMessagingComponent.NODE_USER</a> then we confirm its just us as the node by checking their TLS certificate
is the same as our one in our key store. Then theyre given full access to all valid queues. If they connect with
<a href="../-artemis-messaging-component/-p-e-e-r_-u-s-e-r.html">ArtemisMessagingComponent.PEER_USER</a> then we confirm they belong on our P2P network by checking their root CA is
the same as our root CA. If thats the case the only access theyre given is the ablility send to our P2P address.
In both cases the messages these authenticated nodes send to us are tagged with their subject DN and we assume
the CN within that is their legal name.
Otherwise if the username is neither of the above we assume its an RPC user and authenticate against our list of
valid RPC users. RPC clients are given permission to perform RPC and nothing else.</p>
</td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">ArtemisMessagingServer</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$<init>(net.corda.node.services.config.NodeConfiguration, , net.corda.core.node.services.NetworkMapCache, net.corda.node.services.RPCUserService)/config">config</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.node.services.config/-node-configuration/index.html"><span class="identifier">NodeConfiguration</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$<init>(net.corda.node.services.config.NodeConfiguration, , net.corda.core.node.services.NetworkMapCache, net.corda.node.services.RPCUserService)/myHostPort">myHostPort</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$<init>(net.corda.node.services.config.NodeConfiguration, , net.corda.core.node.services.NetworkMapCache, net.corda.node.services.RPCUserService)/networkMapCache">networkMapCache</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.core.node.services/-network-map-cache/index.html"><span class="identifier">NetworkMapCache</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$<init>(net.corda.node.services.config.NodeConfiguration, , net.corda.core.node.services.NetworkMapCache, net.corda.node.services.RPCUserService)/userService">userService</span><span class="symbol">:</span>&nbsp;<a href="../../net.corda.node.services/-r-p-c-user-service/index.html"><span class="identifier">RPCUserService</span></a><span class="symbol">)</span></code><p>This class configures and manages an Apache Artemis message queue broker.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="config.html">config</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">config</span><span class="symbol">: </span><a href="../../net.corda.node.services.config/-node-configuration/index.html"><span class="identifier">NodeConfiguration</span></a></code><p>The config object is used to pass in the passwords for the certificate KeyStore and TrustStore</p>
</td>
</tr>
<tr>
<td>
<a href="my-host-port.html">myHostPort</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">myHostPort</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="network-map-cache.html">networkMapCache</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">networkMapCache</span><span class="symbol">: </span><a href="../../net.corda.core.node.services/-network-map-cache/index.html"><span class="identifier">NetworkMapCache</span></a></code></td>
</tr>
<tr>
<td>
<a href="user-service.html">userService</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">userService</span><span class="symbol">: </span><a href="../../net.corda.node.services/-r-p-c-user-service/index.html"><span class="identifier">RPCUserService</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="deploy-bridge-if-absent.html">deployBridgeIfAbsent</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">deployBridgeIfAbsent</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$deployBridgeIfAbsent(, )/queueName">queueName</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingServer$deployBridgeIfAbsent(, )/hostAndPort">hostAndPort</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="start.html">start</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">start</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>The server will make sure the bridge exists on network map changes, see method <a href="#">destroyOrCreateBridge</a>
We assume network map will be updated accordingly when the client node register with the network map server.</p>
</td>
</tr>
<tr>
<td>
<a href="stop.html">stop</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">stop</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../-artemis-messaging-component/check-store-passwords.html">checkStorePasswords</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkStorePasswords</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Returns nothing if the keystore was opened OK or throws if not. Useful to check the password, as
unfortunately Artemis tends to bury the exception when the password is wrong.</p>
</td>
</tr>
<tr>
<td>
<a href="../-artemis-messaging-component/expected-on-default-file-system.html">expectedOnDefaultFileSystem</a></td>
<td>
<code><span class="keyword">fun </span><a href="http://docs.oracle.com/javase/6/docs/api/java/nio/file/Path.html"><span class="identifier">Path</span></a><span class="symbol">.</span><span class="identifier">expectedOnDefaultFileSystem</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="../-artemis-messaging-component/tcp-transport.html">tcpTransport</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">tcpTransport</span><span class="symbol">(</span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(net.corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/direction">direction</span><span class="symbol">:</span>&nbsp;<a href="../-artemis-messaging-component/-connection-direction/index.html"><span class="identifier">ConnectionDirection</span></a><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(net.corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/host">host</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="net.corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(net.corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/port">port</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
